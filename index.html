<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ChatGPT 提示工具</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
            crossorigin="anonymous"></script>
    <style>
        html, body {
            height: 100%;
        }
        body, .main {
            min-height: 100%;
        }
        .card {
            line-height: 2;
        }
        .keyword {
            background-color: #fff3cd;
            margin: 5px;
            padding: 5px;
            font-weight: bold;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
         function copyToClipboard(text) {
            if (window.clipboardData && window.clipboardData.setData) {
                return window.clipboardData.setData('Text', text);
            }

            if (document.queryCommandSupported && document.queryCommandSupported('copy')) {
                const textarea = document.createElement('textarea');

                textarea.textContent = text;
                textarea.style.position = 'fixed';
                document.body.appendChild(textarea);
                textarea.select();

                try {
                    return document.execCommand('copy');
                } catch (ex) {
                    return false;
                } finally {
                    document.body.removeChild(textarea);
                }
            }
        }

        $(function () {
            $('body').on('click', '.collapse-button', function () {
                $(this).closest('.prompt').find('.collapse-target').toggleClass('show');
            });
            $('body').on('click', '.prompt__copy-button', function () {
                const prompt = $(this).closest('.prompt');
                let content = prompt.find('.prompt__content').data('content');

                prompt.find('input[type="text"], textarea').each(function () {
                    if ($(this).val() === '') {
                        return;
                    }

                    content = content.replaceAll('<br>', '\r\n');
                    content = content.replaceAll($(this).attr('name'), $(this).val());
                });

                copyToClipboard($.trim(content));

                Swal.fire({title: '已複製', icon: 'success', confirmButtonText: '確定', timer: 1000})
            });
        })
    </script>
</head>
<body>
<section class="py-2 text-center container">
    <div class="row py-lg-5">
        <div class="col-lg-6 col-md-8 mx-auto">
            <h1 class="fw-light">ChatGPT 提示工具</h1>
        </div>
    </div>
</section>
<div class="bg-body-tertiary py-5 main">
    <div class="container">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
            <div class="col mb-3">
                <div class="card shadow-sm prompt">
                    <div class="card-body">
                        <h5 class="card-title text-success">撰寫程式</h5>
                        <p class="card-text prompt__content" data-content="請使用 [程式語言] 寫一個函式，它需要做到 [某個功能]">
                            請使用<span class="keyword">程式語言</span>寫一個函式，它需要做到<span class="keyword">某個功能</span>
                        </p>
                        <div class="d-flex justify-content-end">
                            <button class="btn btn-info text-white me-2 collapse-button" type="button">
                                填入資料
                            </button>
                        </div>
                    </div>
                    <div class="card-footer collapse pt-3 collapse-target">
                        <div class="mb-3">
                            <label class="form-label">程式語言</label>
                            <input type="text" class="form-control" name="[程式語言]">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">某個功能</label>
                            <textarea class="form-control" name="[某個功能]" cols="30" rows="3"></textarea>
                        </div>
                        <button type="button" class="btn btn-primary float-end prompt__copy-button">複製</button>
                    </div>
                </div>
            </div>
            <div class="col mb-3">
                <div class="card shadow-sm prompt">
                    <div class="card-body">
                        <h5 class="card-title text-success">撰寫測試</h5>
                        <p class="card-text prompt__content" data-content="我有一段 [程式語言] 的程式碼，如下：<br><br>[程式碼]<br><br>請依照上述程式碼撰寫單元測試，至少要提供五個測試案例，且需要包含到極端的狀況。">
                            我有一段<span class="keyword">程式語言</span>的程式碼，如下：<span class="keyword">程式碼</span>，請依照上述程式碼撰寫單元測試，至少要提供五個測試案例，且需要包含到極端的狀況。
                        </p>
                        <div class="d-flex justify-content-end">
                            <button class="btn btn-info text-white me-2 collapse-button" type="button">
                                填入資料
                            </button>
                        </div>
                    </div>
                    <div class="card-footer collapse pt-3 collapse-target">
                        <div class="mb-3">
                            <label class="form-label">程式語言</label>
                            <input type="text" class="form-control" name="[程式語言]">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">程式碼</label>
                            <textarea class="form-control" name="[程式碼]" cols="30" rows="3"></textarea>
                        </div>
                        <button type="button" class="btn btn-primary float-end prompt__copy-button">複製</button>
                    </div>
                </div>
            </div>
            <div class="col mb-3">
                <div class="card shadow-sm prompt">
                    <div class="card-body">
                        <h5 class="card-title text-success">重構程式碼</h5>
                        <p class="card-text prompt__content" data-content="我有一段 [程式語言] 的程式碼，如下：<br><br>[程式碼]<br><br>請重構、優化上述程式碼，並使用中文解釋為什麼要這樣重構。">
                            我有一段<span class="keyword">程式語言</span>的程式碼，如下：<span class="keyword">程式碼</span>，請重構、優化上述程式碼，並使用中文解釋為什麼要這樣重構。
                        </p>
                        <div class="d-flex justify-content-end">
                            <button class="btn btn-info text-white me-2 collapse-button" type="button">
                                填入資料
                            </button>
                        </div>
                    </div>
                    <div class="card-footer collapse pt-3 collapse-target">
                        <div class="mb-3">
                            <label class="form-label">程式語言</label>
                            <input type="text" class="form-control" name="[程式語言]">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">程式碼</label>
                            <textarea class="form-control" name="[程式碼]" cols="30" rows="3"></textarea>
                        </div>
                        <button type="button" class="btn btn-primary float-end prompt__copy-button">複製</button>
                    </div>
                </div>
            </div>
            <div class="col mb-3">
                <div class="card shadow-sm prompt">
                    <div class="card-body">
                        <h5 class="card-title text-success">程式除錯</h5>
                        <p class="card-text prompt__content" data-content="我有一段 [程式語言] 的程式碼，如下：<br><br>[程式碼]<br><br>但是他在執行時發生以下錯誤：<br><br>[錯誤訊息]<br><br>請使用中文解釋為什麼會發生錯誤，並提供修正後的程式碼。">
                            我有一段<span class="keyword">程式語言</span>的程式碼，如下：<span class="keyword">程式碼</span>，但是他在執行時發生以下錯誤：<span class="keyword">錯誤訊息</span>，請使用中文解釋為什麼會發生錯誤，並提供修正後的程式碼。
                        </p>
                        <div class="d-flex justify-content-end">
                            <button class="btn btn-info text-white me-2 collapse-button" type="button">
                                填入資料
                            </button>
                        </div>
                    </div>
                    <div class="card-footer collapse pt-3 collapse-target">
                        <div class="mb-3">
                            <label class="form-label">程式語言</label>
                            <input type="text" class="form-control" name="[程式語言]">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">程式碼</label>
                            <textarea class="form-control" name="[程式碼]" cols="30" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">錯誤</label>
                            <textarea class="form-control" name="[錯誤]" cols="30" rows="3"></textarea>
                        </div>
                        <button type="button" class="btn btn-primary float-end prompt__copy-button">複製</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<footer class="text-body-secondary py-3 bg-dark-subtle">
    <div class="container">
        <p class="mb-1"></p>
    </div>
</footer>
</body>
</html>